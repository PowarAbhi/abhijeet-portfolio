/* Mobile-specific styles (max-width: 980px) */

/* Simple single column layout for mobile */
@media screen and (max-width: 980px) {
  .masonry {
    column-count: 1 !important; /* Single column only */
    column-gap: 0 !important;
    margin-top: 20px;
    padding-inline: 10px;
  }

  .masonry-item {
    break-inside: avoid;
    width: 100%;
    margin-bottom: 20px;
    box-sizing: border-box;
  }

  /* Ensure work cards fit properly in masonry */
  .work-card {
    display: block !important;
    width: 100%;
    border-radius: 15px; /* Slightly smaller radius for mobile */
    overflow: hidden;
    border: 2px solid var(--border-color);
    background: var(--panel);
    box-shadow: 0 4px 12px var(--shadow-color);
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
  }

  html[data-theme="theme-2"] .work-card {
    border-width: 1px;
    border-radius: 12px;
    box-shadow: 2px 2px 6px var(--shadow-color);
  }

  .work-card:hover {
    transform: translateY(-2px) scale(1.01); /* Reduced hover effect for mobile */
    box-shadow: 0 6px 15px var(--shadow-color);
  }

  html[data-theme="theme-2"] .work-card:hover {
    transform: translateY(-1px);
    box-shadow: 1px 1px 4px var(--shadow-color);
  }

  /* Image wrapper adjustments for mobile */
  .image-wrapper {
    position: relative;
    background-color: #f0f0f0;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .image-wrapper:not(.loaded) {
    min-height: 120px; /* Adjusted for mobile */
  }

  .work-img {
    width: 100%;
    height: auto; /* Let images maintain natural aspect ratio */
    display: block;
    object-fit: cover;
    transition: opacity 0.3s ease;
    opacity: 0;
  }

  .image-wrapper.loaded .work-img {
    opacity: 1;
  }

  .work-caption {
    padding: 12px; /* Reduced padding for mobile */
    color: var(--muted);
    font-size: 14px; /* Slightly smaller font */
    font-weight: 500;
    transition: color 0.3s ease;
    border-top: 1px solid var(--border-color);
    text-align: center;
  }

  /* Loading spinner adjustments */
  .loading-spinner {
    border: 3px solid var(--accent);
    border-top: 3px solid var(--brand);
    border-radius: 50%;
    width: 30px; /* Smaller spinner for mobile */
    height: 30px;
    animation: spin 1s linear infinite;
    position: absolute;
    opacity: 1;
    transition: opacity 0.3s ease;
  }

  /* Mobile navigation adjustments */
  .nav-toggle {
    display: block; /* Show hamburger menu on mobile */
  }

  .links {
    display: none; /* Hide desktop navigation */
  }

  /* Hero section adjustments */
  .hero-grid {
    grid-template-columns: 1fr; /* Single column on mobile */
    gap: 30px;
    text-align: center;
  }

  /* Skills pills - make them smaller and fit better */
  .hero .card div[style*="margin-top:18px"] {
    display: flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
    gap: 8px !important;
    margin-top: 15px !important;
  }

  .pill {
    padding: 6px 12px !important; /* Smaller padding */
    font-size: 11px !important; /* Smaller font */
    font-weight: 600 !important;
    border-radius: 15px !important; /* Smaller border radius */
    white-space: nowrap; /* Prevent text wrapping */
    flex-shrink: 0; /* Prevent shrinking */
  }

  html[data-theme="theme-2"] .pill {
    padding: 6px 12px !important;
    font-size: 11px !important;
    border-radius: 8px !important;
  }

  .title {
    font-size: clamp(28px, 8vw, 42px); /* Adjusted for mobile */
  }

  .lead {
    font-size: clamp(16px, 4vw, 18px);
  }

  .cta {
    justify-content: center;
    gap: 15px;
  }

  .btn {
    padding: 12px 24px; /* Slightly smaller buttons */
    font-size: 14px;
  }

  /* Resume section - stack cards vertically */
  .grid.cols-2,
  .grid.cols-3 {
    grid-template-columns: 1fr; /* Single column on mobile */
    gap: 20px;
  }

  .resume-item {
    padding: 20px;
    border-radius: 15px;
  }

  /* Works section title and filters */
  .section-title {
    font-size: clamp(24px, 6vw, 36px);
    text-align: center;
  }

  .filters {
    justify-content: center;
    gap: 8px;
    margin: 15px 0 25px;
  }

  .chip {
    padding: 8px 16px;
    font-size: 14px;
    border-radius: 20px;
  }

  html[data-theme="theme-2"] .chip {
    border-radius: 6px;
  }

  /* Footer - Let's Connect section redesign */
  footer {
    padding: 40px 0;
    margin-top: 60px;
  }

  footer .container {
    padding: 20px 0;
  }

  footer .section-title {
    font-size: clamp(24px, 6vw, 32px);
    margin-bottom: 8px;
    text-align: center;
  }

  footer .muted {
    text-align: center;
    margin-bottom: 20px;
    font-size: 16px;
  }

  /* Redesign footer layout to match reference */
  footer > .container > div:first-child {
    display: block !important; /* Override flex */
    text-align: center;
  }

  footer > .container > div:first-child > div:first-child {
    margin-bottom: 25px;
  }

  /* Contact buttons - horizontal layout */
  footer > .container > div:first-child > div:first-child > div {
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
  }

  footer .btn {
    padding: 10px 20px;
    font-size: 14px;
    border-radius: 25px;
  }

  html[data-theme="theme-2"] footer .btn {
    border-radius: 6px;
  }

  /* Location/info pills - redesign to match reference */
  footer .card {
    min-width: unset;
    width: 100%;
    max-width: 400px;
    margin: 0 auto;
    padding: 15px;
    border-radius: 15px;
    background: var(--panel);
    border: 2px solid var(--border-color);
  }

  html[data-theme="theme-2"] footer .card {
    border-width: 1px;
    border-radius: 12px;
  }

  footer .card > div {
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
  }

  footer .pill {
    padding: 8px 16px;
    font-size: 12px;
    border-radius: 20px;
  }

  html[data-theme="theme-2"] footer .pill {
    border-radius: 6px;
  }

  /* Copyright text */
  footer p.muted:last-child {
    margin-top: 20px;
    font-size: 14px;
    text-align: center;
  }

  /* Modal adjustments for mobile */
  #imageModal {
    padding-top: 20px;
  }

  #modalImage {
    width: 95%;
    max-width: none;
    max-height: 85vh;
  }

  #closeModal {
    top: 10px;
    right: 20px;
    font-size: 35px;
  }

  /* Container adjustments */
  .container {
    width: min(100%, 94vw);
    padding-inline: 3vw;
  }

  /* Section spacing adjustments */
  section {
    padding: 60px 0;
  }

  .hero {
    padding: 60px 0;
  }

  /* Preloader adjustments */
  .preloader__avatar {
    width: 120px;
    height: 120px;
  }

  .preloader__caption {
    font-size: 13px;
  }
}

/* Extra small screens (phones in portrait) */
@media screen and (max-width: 480px) {
  .masonry {
    gap: 12px;
  }

  .work-card {
    border-radius: 12px;
  }

  .work-caption {
    padding: 10px;
    font-size: 13px;
  }

  .btn {
    padding: 10px 20px;
    font-size: 13px;
  }

  .chip {
    padding: 6px 14px;
    font-size: 13px;
  }

  footer .pill {
    padding: 6px 12px;
    font-size: 11px;
  }

  .container {
    width: min(100%, 96vw);
    padding-inline: 2vw;
  }
}